#!/usr/bin/env php
<?php

require_once __DIR__ . '/vendor/autoload.php';

use ERP\Core\App;
use ERP\Core\CLI\Console;

// Carrega variÃ¡veis de ambiente
if (file_exists(__DIR__ . '/.env')) {
    $dotenv = Dotenv\Dotenv::createImmutable(__DIR__);
    $dotenv->load();
}

// Configura timezone
date_default_timezone_set($_ENV['APP_TIMEZONE'] ?? 'America/Sao_Paulo');

try {
    $console = new Console();
    $console->run($argv);
} catch (\Throwable $e) {
    echo "Erro: " . $e->getMessage() . "\n";
    exit(1);
}
